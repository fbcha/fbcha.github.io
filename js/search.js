var searchFunc=function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),i=document.getElementById(e),a=document.getElementById(r);i.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);$(a).hide(),a.innerHTML="",this.value.trim().length<=0||(n.forEach(function(r){var n=!0;r.title&&""!==r.title.trim()||(r.title="Untitled");var i=r.title.trim().toLowerCase(),l=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),s=r.url,c=-1,u=-1,o=-1;if(""!==l?e.forEach(function(t,e){c=i.indexOf(t),u=l.indexOf(t),0>c&&0>u?n=!1:(0>u&&(u=0),0==e&&(o=u))}):n=!1,n){$(a).show(),t+="<li><a href='"+s+"' class='search-result-title'>"+i+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var f=o-20,m=o+80;0>f&&(f=0),0==f&&(m=100),m>h.length&&(m=h.length);var d=h.substr(f,m);e.forEach(function(t){var e=new RegExp(t,"gi");d=d.replace(e,'<em class="search-keyword">'+t+"</em>")}),t+='<p class="search-result">'+d+"...</p>"}t+="</li>"}}),t+="</ul>",a.innerHTML=t)})}})};